---
import Carousel from "./Carousel.astro";
---

<div class="activities">
  <div class="wrapper">
    <h3>สืบสาน วัฒนธรรม ประเพณี</h3>
    <Carousel width="min(70vw, 35rem)">
      <div class="item">
        <img class="img" src="/images/activities/1.png" />
        <p>บวชหน้าไฟ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/2.png" />
        <p>บรรพชาสามเณรฤดูร้อน</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/3.png" />
        <p>พิธีไหว้ครู</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/4.png" />
        <p>เชียร์และแปรอักษรฟุตบอลประเพณีจตุรมิตรสามัคคี</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/5.png" />
        <p>สวดมนต์ ทำวัตรเช้า</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/6.png" />
        <p>ทำบุญตักบาตร</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/7.png" />
        <p>FARTLEK 65 โครงการวิ่งเพื่อสุขภาพส่งเสริมสมรรถภาพร่างกาย และสร้างความสามัคคี</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/8.png" />
        <p>ปัจฉิมนิเทศ</p>
      </div>
    </Carousel>
  </div>

  <div class="wrapper">
    <h3>ชุมนุมเทพมีเดีย ม.1-ม.6</h3>
    <Carousel width="min(70vw, 35rem)">
      <div class="item">
        <img class="img" src="/images/activities/9.png" />
        <p>พิธีวางพวงมาลาพระบรมราชานุสาวรีย์ฯ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/10.png" />
        <p>วันคล้ายวันพระบรมราชสมภพ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/11.png" />
        <p>วันคล้ายวันเฉลิมฯ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/12.png" />
        <p>ทำบุญตักบาตร วันขึ้นปีใหม่-วันแม่แห่งชาติ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/13.png" />
        <p>พิธีประดับเข็ม</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/14.png" />
        <p>งานเกษียณฯ งานวันไหว้ครู</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/15.png" />
        <p>งานเทศน์มหาชาติ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/16.png" />
        <p>โครงการโรงเรียนพี่โรงเรียนน้อง ตามพระราชดำริฯ "เทพสู่ดอย"</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/17.png" />
        <p>ฟุตบอลแชมป์กีฬา7HD 2022</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/18.png" />
        <p>ฟุตบอลแชมป์กีฬา7HD 2022 </p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/19.png" />
        <p>ปัจฉิมนิเทศ</p>
      </div>
      <div class="item">
        <img class="img" src="/images/activities/20.png" />
        <p>งานบุญแห่เทียนพรรษา</p>
      </div>
    </Carousel>
</div>

<style>
  .activities {
    overflow: hidden;
    --padding: min(2rem, 4vw);
    --width: min(70vw, 35rem);
  }

  .wrapper {
    width: calc(var(--width) + 2 * var(--padding));
    padding: var(--padding);
    margin: auto;
    margin-bottom: 5rem;
    border-radius: 1rem;
    background-color: rgba(var(--crimson), 0.5);
  }

  .wrapper h3 {
    text-align: center;
    margin-bottom: calc(var(--padding) * 0.75);
  }

  .item {
    width: var(--width);
  }

  .item img {
    display: block;
    width: var(--width);
  }

  .item p {
    text-align: center;
    font-size: clamp(1rem, 2vw, 1.2rem);
    font-weight: 500;

    margin-top: var(--padding);
  }
</style>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  // const wrapperArray = gsap.utils.toArray(".activities .wrapper");
  // wrapperArray.forEach((wrapperObj) => {
  //   const wrapper = wrapperObj as Element;
  //   const q = gsap.utils.selector(wrapper);

  //   const tl = gsap
  //     .timeline()
  //     .from(wrapper, { opacity: 0, y: 100 })
  //     .from(q("h3"), { opacity: 0, yPercent: 100, duration: 0.5 })
  //     .from(q(".img"), { opacity: 0, stagger: 0.1, duration: 0.5 })
  //     .from(q("p"), {
  //       opacity: 0,
  //       yPercent: 100,
  //       duration: 0.5,
  //       ease: "power3",
  //     });

  //   ScrollTrigger.create({
  //     trigger: wrapper,
  //     start: `top+=${-100}px bottom`,
  //     toggleActions: "play none resume reset",
  //     animation: tl,
  //   });
  // });
</script>
