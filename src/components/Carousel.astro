---
const { width, class: addClass } = Astro.props;
---

<div class:list={["carousel", addClass]} style={`width: ${width};`}>
  <div class="carousel__prev">
    <i class="fa-sharp fa-solid fa-angle-left"></i>
  </div>
  <div class="carousel__items">
    <slot />
  </div>
  <div class="carousel__next">
    <i class="fa-sharp fa-solid fa-angle-right"></i>
  </div>
</div>

<style>
  .carousel {
    position: relative;
    margin: auto;
  }

  .carousel__items {
    display: flex;
    overflow-x: hidden;
  }

  .carousel__prev,
  .carousel__next {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: 999;

    display: flex;
    align-items: center;
    justify-content: center;

    padding: min(1rem, 2vw);
    transition: text-shadow 0.2s;
  }

  .carousel__prev {
    left: 0;
  }

  .carousel__next {
    right: 0;
  }

  .carousel__prev i,
  .carousel__next i {
    font-size: min(3rem, 6vw);
    color: rgba(255, 255, 255, 0.9);
    cursor: pointer;
    transition: color 0.2s, text-shadow 0.2s;
  }

  .carousel__prev i:hover,
  .carousel__next i:hover {
    font-size: min(3rem, 6vw);
    color: rgba(255, 255, 255);
    text-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    cursor: pointer;
  }
</style>

<script>
  import { initCarousel } from "../scripts/carousel.ts";
  const carousels = document.querySelectorAll(".carousel");

  carousels.forEach((carousel) => {
    initCarousel(carousel as HTMLElement);
  });
</script>
