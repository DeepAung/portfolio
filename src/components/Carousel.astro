---
const { width } = Astro.props;
---

<div class="carousel" style={`width: ${width};`}>
  <div class="carousel__prev">
    <i class="fa-solid fa-arrow-left"></i>
  </div>
  <div class="carousel__items">
    <slot />
  </div>
  <div class="carousel__next">
    <i class="fa-solid fa-arrow-right"></i>
  </div>
</div>

<style>
  .carousel {
    position: relative;
    margin: auto;
  }

  .carousel__items {
    display: flex;
    align-items: center;
    overflow-x: hidden;
  }

  .carousel__prev,
  .carousel__next {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: 999;

    display: flex;
    align-items: center;
    justify-content: center;

    padding: min(1rem, 2vw);
    transition: text-shadow 0.2s;
  }

  .carousel__prev {
    left: 0;
  }

  .carousel__next {
    right: 0;
  }

  .carousel__prev i,
  .carousel__next i {
    font-size: min(2rem, 6vw);
    text-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);

    cursor: pointer;

    transition: text-shadow 0.25s;
  }

  .carousel__prev i:hover,
  .carousel__next i:hover {
    text-shadow: 0px 0px 20px black;
  }
</style>

<script>
  import { initCarousel } from "../scripts/carousel.ts";
  const carousels = document.querySelectorAll(".carousel");

  carousels.forEach((carousel) => {
    initCarousel(carousel as HTMLElement);
  });
</script>
